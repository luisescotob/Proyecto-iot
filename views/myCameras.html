<!DOCTYPE html>
<html ng-app="app">
<head>
  <title>Secur-iot</title>
  <meta charset="utf-8">
  <meta content="width=device-width" name="viewport">
</head>

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="/myCameras.css">
<link rel="stylesheet" type="text/css" href="/sidebar.css">
<link rel="stylesheet" href="https://unpkg.com/angular-toastr/dist/angular-toastr.css" />


<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://use.fontawesome.com/6c78e66af5.js"></script>

<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.js'></script>

<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js'></script>
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-route.min.js'></script>
<script src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js'></script>


<script src="https://unpkg.com/angular-toastr/dist/angular-toastr.tpls.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/ngstorage/0.3.6/ngStorage.min.js"></script>
<!--Module-->
<script src="/app.js"></script>
<!--Controllers-->
<script src="/myCamerasController.js"></script>

<body ng-controller="myCamerasController">

<div class="nav-side-menu">
    <div class="brand" id="brand"><h4 id="logoText">My cameras</h4><img id="logo" width="170" height="170" class="img img-responsive img-circle" src="/logo.png"></div>
    <i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>
    <div class="menu-list">
        <ul id="menu-content" class="menu-content collapse out">
            
            
            <li data-toggle="collapse" data-target="#cameras" class="collapsed">
                <a><i class="fa fa-camera fa-lg"></i> Cameras</a>
            </li>
            <ul class="sub-menu collapsed" id="cameras">
                <a href="myCameras"><li class="active">My cameras</li></a>

            </ul>

            <li data-toggle="collapse" data-target="#triggers" class="collapsed">
                <a><i class="fa fa-paw fa-lg"></i> Triggers</a>
            </li>
            <ul class="sub-menu collapsed" id="triggers">

                <a href="registerTriggers"><li>Register triggers</li></a>
                <a href="manageTriggers"><li>Manage triggers</li></a>



            </ul>

            <li data-toggle="collapse" data-target="#settings" class="collapsed">
                <a><i class="fa fa-cogs fa-lg"></i> Settings</a>
            </li>
            <ul class="sub-menu collapsed" id="settings">
                <a href="accountSettings"><li>Account settings</li></a>


            </ul>
            
            <div id="logoutContainer">

                <li id="logoutBtn" ng-click="logout()">
                    <a>
                        <i class="fa fa-user fa-lg"></i> Log out
                    </a>
                </li>
                
            </div>
            
         </ul>
    </div>


</div>

<div class="container-fluid" id="main">

    <div class="row" ng-repeat="camera in cameras">  
        <div class="col-md-3">
        <div class="cell">
            
            <h3>{{camera.name}}</h3>
            <h5>Last capture on {{formatDate(camera.lastPhotoDate)}}</h5>
        </div>
            
        
            
        </div>
        <div class="col-md-4">
            <div>
                
                <a ng-click="photoRecord($index)"><img width="100%" height="280" ng-src="{{camera.lastPhoto}}"></a>
            </div>
        </div>


        <div class="col-md-3">
            <div class="cell" id="triggerList">
                <ul>
                    <li ng-repeat="triggers in camera.triggers">{{triggers.name}}</li>
                    
                </ul>

            </div>
    

        </div>

        <div class="col-md-2">
            <div class="cell" id="buttonAllignment">
                <button ng-click="activateCamera($index)" class="btn btn-success">Capture</button>
                <button ng-click="deleteCamera($index)" class="btn btn-danger"> Delete <i class="fa fa-trash-o">  </i></button>
            </div>
        </div>
        
    </div>

        
    </div>


</div>

</body>

</html>